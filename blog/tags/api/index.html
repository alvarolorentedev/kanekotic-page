<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-tags-post-list-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-rc.1">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Kanekotic&#39;s Site RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Kanekotic&#39;s Site Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-SC3P44D446"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-SC3P44D446",{anonymize_ip:!0})</script><title data-rh="true">5 posts tagged with &quot;api&quot; | Kanekotic&#x27;s Site</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://www.kanekotic.com/blog/tags/api"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" property="og:title" content="5 posts tagged with &quot;api&quot; | Kanekotic&#x27;s Site"><meta data-rh="true" name="docusaurus_tag" content="blog_tags_posts"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_tags_posts"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://www.kanekotic.com/blog/tags/api"><link data-rh="true" rel="alternate" href="https://www.kanekotic.com/blog/tags/api" hreflang="en"><link data-rh="true" rel="alternate" href="https://www.kanekotic.com/blog/tags/api" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.94951cf5.css">
<link rel="preload" href="/assets/js/runtime~main.862610a3.js" as="script">
<link rel="preload" href="/assets/js/main.ece38665.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="kanekotic" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="kanekotic" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Kanekotic</b></a><a class="navbar__item navbar__link" href="/docs/intro">Projects</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/kanekotic" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/psycological-safety-in-software-developmente">Psychological safety in software development</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/12/19/api-singleton">Double-edge Microservices: APIs the New Singleton</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/12/19/macroInfrastructure-microservice-obsesion">Double-edge Microservices: Macro Infrastructure due to Microservice Obsession</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/11/24/tdd-is-not-called-tdt-for-a-reason">TDD is not called TDT for a reason</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/10/14/delivery-acceleration-parallel-changes-strategy">Delivery Acceleration: Parallel Changes Strategy</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><header class="margin-bottom--xl"><h1>5 posts tagged with &quot;api&quot;</h1><a href="/blog/tags">View All Tags</a></header><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/2022/12/19/api-singleton">Double-edge Microservices: APIs the New Singleton</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-12-19T00:00:00.000Z" itemprop="datePublished">December 19, 2022</time> · <!-- -->3 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/kanekotic" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/kanekotic.png" alt="Alvaro Jose"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/kanekotic" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Alvaro Jose</span></a></div><small class="avatar__subtitle" itemprop="description">Head of Software @Holaluz</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>The singleton pattern has got a bad reputation over the years due to be widely overused in the incorrect use cases. With the proliferation of microservices, <strong>have APIs become the new singleton?</strong></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-problem">The Problem<a class="hash-link" href="#the-problem" title="Direct link to heading">​</a></h2><p>APIs, or application programming interfaces, have become a ubiquitous part of modern software development. They allow different systems and applications to communicate with one another, enabling the creation of complex, interconnected systems that can share data and functionality. However, there has been a growing concern that APIs are being overused, leading to a proliferation of unnecessarily complex and fragile systems that are difficult to maintain and scale.</p><p>One reason for the perceived overuse of APIs is the ease with which they can be implemented. With the abundance of API management tools and frameworks available, it is relatively straightforward to expose a set of functionality as an API and make it available to other systems. This has led to a proliferation of APIs, many of which are redundant or unnecessary, adding unnecessary complexity to the overall system.</p><p>Another issue is the lack of standardization in the API ecosystem. Each API is typically designed to meet the specific needs of the system it was created for, resulting in a wide variety of different designs and conventions. This can make it difficult for developers to understand and use APIs from other systems, as they may have to learn and adapt to new conventions and patterns each time they encounter a new API.</p><p>In addition to these issues, the reliance on APIs can also lead to fragile systems that are difficult to maintain and scale. When multiple systems are tightly coupled through APIs, a change to one system can have cascading effects on others, leading to unexpected behavior and potential failures. This can make it difficult to make changes or updates to a system without the risk of breaking something else.</p><p>There are also concerns about the security of APIs. As they allow systems to communicate with one another, they can also provide a potential entry point for attackers to gain access to sensitive data or functionality. Properly securing APIs can be a complex and time-consuming task, and if not done correctly, can lead to significant vulnerabilities.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-solution">The Solution<a class="hash-link" href="#the-solution" title="Direct link to heading">​</a></h2><p>So, what can be done to address these issues? One solution is to use APIs more judiciously, carefully evaluating whether an API is truly necessary before implementing it. This can help reduce the overall complexity of the system and make it easier to maintain and scale. </p><p>It&#x27;s also important to adopt API design standards and guidelines, which can help ensure that APIs are consistent and easy to understand and use. Finally, proper API security practices should be implemented to protect against potential vulnerabilities.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/webdev">webdev</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/api">api</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/architecture">architecture</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/programming">programming</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/2022/12/19/macroInfrastructure-microservice-obsesion">Double-edge Microservices: Macro Infrastructure due to Microservice Obsession</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-12-19T00:00:00.000Z" itemprop="datePublished">December 19, 2022</time> · <!-- -->4 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/kanekotic" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/kanekotic.png" alt="Alvaro Jose"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/kanekotic" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Alvaro Jose</span></a></div><small class="avatar__subtitle" itemprop="description">Head of Software @Holaluz</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-context">The Context<a class="hash-link" href="#the-context" title="Direct link to heading">​</a></h2><p>Cloud and infrastructure as code have revolutionized our industry. They allowed us to be able to procure infrastructure in a simple, adaptable way.<br>
<!-- -->This allowed us to move from writing huge monolithic applications to write microservices that interact between them.<br>
<!-- -->One of the most accepted definition of a microservice can be expressed as:</p><blockquote><p>A self-contained portion of code that does not share resources with other services, can be deployed independently, and should be easy to rewrite in a small portion of time.</p></blockquote><p>This sounds great when we talk about individual parts of a software projects. Nevertheless, when thinking about systems and how they operate, There is a point to make about granularity as software does never work fully isolated. It requires interactions with other systems to fulfill their purpose.</p><p>Most of the monolithic applications of the past had an issue of being over-engineered to allow changes that might never happen.</p><p>Could that also happen with microservices?</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-issues">The Issues<a class="hash-link" href="#the-issues" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="clarity-of-the-domain">Clarity Of The Domain<a class="hash-link" href="#clarity-of-the-domain" title="Direct link to heading">​</a></h3><p>When a system grows too much in small pieces, it becomes more and more complex to understand the big picture.<br>
<!-- -->When pieces are too small, domain events start becoming exchange of information in between nodes of a network. All this removes cohesion on the knowledge over the domain of a system, making it difficult to grasp the real intention and capabilities of concepts and actors across a system.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="babel-tower-issue">Babel tower Issue<a class="hash-link" href="#babel-tower-issue" title="Direct link to heading">​</a></h3><p>The more parts a system has, the less heterogeneous it becomes. This at the same time translates into a more complex environment with more integrations, frameworks and bigger learning curves that affects delivery. There need to be a balance of when and where in a system a new technology is added. Decisions must be based on needs and not on preferences.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="implicit-runtime-dependencies">Implicit runtime dependencies<a class="hash-link" href="#implicit-runtime-dependencies" title="Direct link to heading">​</a></h3><p>The more a system get split, the more dependency on certain node it will have. This tends to cause more dependencies in between the pieces of your infrastructure-based puzzle where you start having god infrastructure points that become single point of failure, or you have a chain of dependent infra that need to be deployed in a go or certain order.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="hidden-complexity">Hidden Complexity<a class="hash-link" href="#hidden-complexity" title="Direct link to heading">​</a></h3><p>The more your microservice environment grows, the more it requires a growing support infrastructure for monitoring, alerting and other services not used as part of the main system. This normally is a separate effort which has its cost. The more a system grows, those hidden complexities become a dependency for all the nodes in the system, making it a complex task to evolve and change those dependencies.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="why-if-yagni">Why… if YAGNI<a class="hash-link" href="#why-if-yagni" title="Direct link to heading">​</a></h3><p>One of the main ideas of microservices was to be able to validate assumptions fast. Before bootstrapping new services or infrastructure, there is a need to ask ourselves about the existence of a service or infrastructure that contains the domain knowledge required for the experiment in the current ecosystem. If we are not careful, experiments won&#x27;t be experiments. They will be MVPs, where domain knowledge is re-implemented, just for having it as a standalone node on the system.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="repeating-yourself">Repeating Yourself<a class="hash-link" href="#repeating-yourself" title="Direct link to heading">​</a></h3><p>When we create pieces of code that are independent, there is always a certain level of bootstrapping that is required and repeated in each node of our systems. This will cause not only a set of duplicated code, but also has a development time cost attached to it. Bootstrapping a project in a high granularity system can be complex to standardize.</p><p>Microservices, the cloud, and infrastructure as a service have definitely revolutionized our industry, nevertheless as in everything there is a need for balance. Making sure we use the right tool for the job, and we don&#x27;t over-engineer things, not only at a code level but also at infrastructure level, as everything has a cost.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a class="hash-link" href="#conclusion" title="Direct link to heading">​</a></h2><p>In conclusion, a macro infrastructure due to microservice obsession can lead to increased complexity and overhead costs, as well as challenges in making changes and updates to the system. While microservices can offer benefits such as increased scalability and flexibility, it is important for organizations to carefully consider their specific needs and choose the right level of granularity for their architecture.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/webdev">webdev</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/api">api</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/programming">programming</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/architecture">architecture</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/2022/09/09/event-storming-to-split-the-monolith-into-microservices">Event Storming to split Monolith into Microservices</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-09-09T00:00:00.000Z" itemprop="datePublished">September 9, 2022</time> · <!-- -->5 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/kanekotic" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/kanekotic.png" alt="Alvaro Jose"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/kanekotic" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Alvaro Jose</span></a></div><small class="avatar__subtitle" itemprop="description">Head of Software @Holaluz</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>On our previous installments, we discussed the smells that can happen when splitting microservices, and the strategies that exist to make them as independent as possible. But how do we define boundaries? How do we define the process that our microservice is in charge off?</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="event-storming">Event Storming<a class="hash-link" href="#event-storming" title="Direct link to heading">​</a></h2><p>Event storming is a technique that is part of <a href="https://en.wikipedia.org/wiki/Domain-driven_design" target="_blank" rel="noopener noreferrer">DDD</a>. But, what is Event storming?, the definition on <a href="https://en.wikipedia.org/wiki/Event_storming" target="_blank" rel="noopener noreferrer" title="wikipedia">Wikipedia</a> is:</p><blockquote><p>A workshop-based method to quickly find out what is happening in the domain of a software program. The business process is &quot;stormed out&quot; as a series of domain events.</p></blockquote><p>This process is run with stickies in a physical or digital board during a session, and requires the &#x27;experts&#x27; on the process to be present to provide the context what/whom/how. The outcome is an understanding of the <strong>business process</strong>, not the technical one. To be able to separate them into different steps with clear responsibilities.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-by-step-guide">Step-By-Step Guide<a class="hash-link" href="#step-by-step-guide" title="Direct link to heading">​</a></h3><p>let&#x27;s do an example of how a company sets up our internet connection</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="prepare-a-board-and-the-people-for-the-session">Prepare a board and the people for the session<a class="hash-link" href="#prepare-a-board-and-the-people-for-the-session" title="Direct link to heading">​</a></h4><p>Event storming requires people to share a common view and brainstorm and discuss on it. This process takes to count time as a dimension. And has multiple types of stickies that can be used.<br>
<!-- -->You can see an example board on the next image:</p><p><img loading="lazy" src="https://www.kanekotic.com/img/event-storming.png" class="img_ev3q"></p><p>Regarding the Stickies, their color represent a specific meaning<!-- -->[<!-- -->1<!-- -->]<!-- -->:</p><ul><li><strong>Events (orange):</strong> Represent the factual events and anything that is relevant to a domain expert.</li><li><strong>Commands (blue):</strong> These are requests to do something. They can originate from a user or system or by another event.</li><li><strong>System (pink):</strong> These represent systems involved in the domain. They may issue commands or receive commands along with triggering events.</li><li><strong>User (yellow):</strong> These are human users involved in the process. They may be a single person or a department/team.</li><li><strong>Aggregate (tan):</strong> This is the first level of categorization and can be thought of as the “thing” that a group of events operates on.</li><li><strong>Read Model (green):</strong> This represents data that may be critical for a user or system to decide.</li><li><strong>Policy (gray):</strong> These represent standards or rules that may need to be executed, such as rules for a compliance policy.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="define-the-events-of-your-system">Define the <strong>Events</strong> of your system<a class="hash-link" href="#define-the-events-of-your-system" title="Direct link to heading">​</a></h4><p>Events are the most important information of our board. They represent facts regarding the process and helps encapsulate the knowledge of the &#x27;experts&#x27;.<br>
<!-- -->As we mention before, time is a significant dimension. A process always happens in a period of time. Starting by organizing this &#x27;things&#x27; that happen in a timeline is a good way to start.<br>
<img loading="lazy" src="https://www.kanekotic.com/img/event-storming-map-events-drawio.png" class="img_ev3q"></p><p>In our example, you can see on the previous image we go from checking coverage, to creating a user, to creating a contract and connecting our user to the network.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="identify-the-systems-involved-optional">Identify the <strong>Systems</strong> involved (Optional)<a class="hash-link" href="#identify-the-systems-involved-optional" title="Direct link to heading">​</a></h4><p>The intent of this step is to identify the existing systems and their interdependency. When we discuss systems, they can be internal or external.</p><p><img loading="lazy" src="https://www.kanekotic.com/img/event-storming-map-systems-drawio.png" class="img_ev3q"></p><p>In our example, all starts with the website, but soon enough it becomes apparent most of the process is taken care by the monolith.</p><p>This step is optional in the case you have a greenfield. Nevertheless, I highly recommend it if you are splitting a monolith.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="add-the-actors">Add the <strong>Actors</strong><a class="hash-link" href="#add-the-actors" title="Direct link to heading">​</a></h4><p>These are real people who are part of the process, they tend to be the starting point of a chain of events, or even on a manual process we are trying to automate the executors of the individual step.</p><p><img loading="lazy" src="https://www.kanekotic.com/img/event-storming-map-actors-drawio.png" class="img_ev3q"><br>
<!-- -->In our case, the user is the one starting the process, but there needs to be a technician doing the last steps manually.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="connect-the-dots-with-commands">Connect the dots with <strong>Commands</strong><a class="hash-link" href="#connect-the-dots-with-commands" title="Direct link to heading">​</a></h4><p>Now we are left with events that are done by someone and take effect in parts of our system. But we are missing the cause and effect that made this look this way.</p><p>Commands allow exactly this, is a specific action or decision that will push our system into a certain direction.</p><p><img loading="lazy" src="https://www.kanekotic.com/img/event-storming-map-commands-drawio.png" class="img_ev3q"></p><p>Commands can be positive or negative actions, causing bifurcation and showing different cases that our system needs to cope with.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="define-bounded-context">Define <strong>Bounded Context</strong><a class="hash-link" href="#define-bounded-context" title="Direct link to heading">​</a></h4><p>now we are left to define where each of the sub-process that conform our system starts and ends. This is done by grouping the stickies with an enclosing and giving a noun + verb to it, as it&#x27;s a sub-process and it evokes action.<br>
<img loading="lazy" src="https://www.kanekotic.com/img/event-storming-bounded-contexts-drawio.png" class="img_ev3q"></p><p>Now you have a set of split actions that can become their microservices and provide part of the process independently.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="create-capabilities-matrix-optional">Create <strong>Capabilities Matrix</strong> (Optional)<a class="hash-link" href="#create-capabilities-matrix-optional" title="Direct link to heading">​</a></h4><p>Now, with the bounded context, we can start defining the capabilities of our services. This is straightforward to express in a matrix.</p><table><thead><tr><th>Context</th><th>Capabilities</th></tr></thead><tbody><tr><td>Network Management</td><td>Check coverage <br> Enable Network <br> 3rd party Hardware management integration</td></tr><tr><td>User Management</td><td>Create User <br> User Email Verification</td></tr><tr><td>contract Management</td><td>Create Contract <br> User Email Verification <br> 3rd party digital signature integration</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="devise-your-goal-architecture-optional">Devise your <strong>Goal Architecture</strong> (Optional)<a class="hash-link" href="#devise-your-goal-architecture-optional" title="Direct link to heading">​</a></h4><p>Knowing our current architecture, it&#x27;s good to think where we want to go.<br>
<!-- -->This is not only a technical challenge, but an organizational challenge due to <a href="https://en.wikipedia.org/wiki/Conway%27s_law" target="_blank" rel="noopener noreferrer">Conway&#x27;s law</a>. If we would like to be successful in splitting a monolith our communication, meaning the teams structure involved, need to resemble this target state.</p><p><img loading="lazy" src="https://www.kanekotic.com/img/event-storming-goal-architecture-drawio.png" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="define-a-plan-on-how-to-split-the-monolith-optional">Define a <strong>plan</strong> on how to split the Monolith (Optional)<a class="hash-link" href="#define-a-plan-on-how-to-split-the-monolith-optional" title="Direct link to heading">​</a></h4><p>A change so big as the one shown on the previous image can be overwhelming for an organization and create a paralysis and doubts. It&#x27;s always good to split the problem in steps to understand progress and be always on a better state. This will improve morale.<br>
<img loading="lazy" src="https://www.kanekotic.com/img/event-storming-plan-architecture-drawio.png" class="img_ev3q"></p><h6 class="anchor anchorWithStickyNavbar_LWe7" id="1-httpswwwcapitalonecomtechsoftware-engineeringevent-storming-for-microservice-architecture">[<!-- -->1<!-- -->]<!-- --> <a href="https://www.capitalone.com/tech/software-engineering/event-storming-for-microservice-architecture/" target="_blank" rel="noopener noreferrer" title="https://www.capitalone.com/tech/software-engineering/event-storming-for-microservice-architecture/">https://www.capitalone.com/tech/software-engineering/event-storming-for-microservice-architecture/</a><a class="hash-link" href="#1-httpswwwcapitalonecomtechsoftware-engineeringevent-storming-for-microservice-architecture" title="Direct link to heading">​</a></h6></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/api">api</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/microservices">microservices</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/programming">programming</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/architecture">architecture</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/2022/09/05/patterns-to-avoiding-microlithic-microservices">Patterns to avoiding microlithic microservices</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-09-05T00:00:00.000Z" itemprop="datePublished">September 5, 2022</time> · <!-- -->3 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/kanekotic" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/kanekotic.png" alt="Alvaro Jose"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/kanekotic" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Alvaro Jose</span></a></div><small class="avatar__subtitle" itemprop="description">Head of Software @Holaluz</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>On the previous installment of this series, we discussed the pitfalls that could happen when we split a monolith into microservices. In specific, we talked about creating what are called microliths.<br>
<img loading="lazy" src="https://www.kanekotic.com/img/microliths.jpg" class="img_ev3q"></p><p>Given that you have followed the recommendations on designing your domains correctly. Today we are going to elaborate on patterns to remove that synchronous communication in between &#x27;microservices&#x27;. This will help our services to become more resilient.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-patterns">The Patterns<a class="hash-link" href="#the-patterns" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="circuit-breakers">Circuit Breakers<a class="hash-link" href="#circuit-breakers" title="Direct link to heading">​</a></h3><p>The most simple solution we can go for is called <strong>circuit breakers</strong>. As it implies, is just a piece of code that upon multiple request failed to a downstream service will fail silently and allow service to resume their normal behavior.</p><p><img loading="lazy" src="https://www.kanekotic.com/img/circuitbreakerdesignpattern.png" class="img_ev3q"></p><p>What are we solving and what are we letting unsolved:</p><ul><li>✔️ We don’t fail continuously if some other service fails.</li><li>❌ We silently don’t finish the entire process requested.</li><li>❌ We require all chain of dependencies to be called.</li><li>❌ We force other services to scale to our needs.</li><li>❌ Data is mutable, so errors will be propagated and not solvable.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="outbox-pattern">Outbox Pattern<a class="hash-link" href="#outbox-pattern" title="Direct link to heading">​</a></h3><p>The next level in solving our microlithic issue is to decouple our services using Pub/Sub to exchange models in between services.<br>
<!-- -->Our service will consume and store the necessary information to run the process locally, and will broadcast the outcome models. This will mean there will always be a strong consistency in the outbox, and eventual consistency on the service database (if it exists).</p><p><img loading="lazy" src="https://www.kanekotic.com/img/reactivemicroliths.jpg" class="img_ev3q"></p><p>What are we solving and what are we letting unsolved:</p><ul><li>✔️ We don’t fail continuously if some other service fails.</li><li>✔️ We always finish our process and promise the rest will be done.</li><li>✔️ We just require our service to do what we promise.</li><li>✔️ Fast services will be fast, and slow services can go slow.</li><li>❌ Data is mutable, so errors will be propagated and not solvable.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="event-sourcing">Event Sourcing<a class="hash-link" href="#event-sourcing" title="Direct link to heading">​</a></h3><p>The last level is <strong>event sourcing</strong>. The idea is to use the events that generated a specific state and not use the calculated state that a service can provide us.</p><p>This allows a higher resilience due to the immutability of the data. In this case, calculation issues of the past can be solved, as we can reprocess the entire set of events that took us to a certain state.<br>
<img loading="lazy" src="https://www.kanekotic.com/img/microsystems.jpg" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion-and-follow-ups">Conclusion and follow-ups<a class="hash-link" href="#conclusion-and-follow-ups" title="Direct link to heading">​</a></h2><p>These are some of the patterns that can make our services more independent and resilient. Nevertheless, each of them has a different complexity, meaning it also affects the complexity of our code. For this, we need to make sure we use the correct tool for the job.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/api">api</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/microservices">microservices</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/programming">programming</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/architecture">architecture</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/2022/09/04/common-mistakes-when-splitting-the-monolith">Common mistakes when splitting the monolith</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-09-04T00:00:00.000Z" itemprop="datePublished">September 4, 2022</time> · <!-- -->4 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/kanekotic" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/kanekotic.png" alt="Alvaro Jose"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/kanekotic" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Alvaro Jose</span></a></div><small class="avatar__subtitle" itemprop="description">Head of Software @Holaluz</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-monolith">The Monolith<a class="hash-link" href="#the-monolith" title="Direct link to heading">​</a></h2><p>We have all at this point encounter the big service that jumpstarted the business. It&#x27;s always good to find it or know it existed. It shows that there was an intent to not resolve every architectural problem before we even knew we had a business.</p><p>Nevertheless, it tends to outgrow itself and become more a pain than a solution. Some of these pains are:</p><ul><li>We all work on the same code base, and conflicts and side effects start to happen.</li><li>You need to release the entire solution, even if different teams have different cycles.</li><li>There are code freezes to go through validation cycles.</li><li>It scales as a whole, not only the portion that has an increase in traffic.</li></ul><p>Due to these pains, microservices were created. To give team/domain independence to create focused solutions on a business that has already been validated.</p><p><img loading="lazy" src="https://www.kanekotic.com/img/monolith.JPG" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-microservices">The Microservices<a class="hash-link" href="#the-microservices" title="Direct link to heading">​</a></h2><p>Let&#x27;s start with a <a href="https://aws.amazon.com/microservices/" target="_blank" rel="noopener noreferrer">definition of a microservice</a>:</p><blockquote><p>Microservices are an architectural and organizational approach to software development where software is composed of small independent services that communicate over well-defined APIs. These services are owned by small, self-contained teams.</p></blockquote><p><img loading="lazy" src="https://user-images.githubusercontent.com/3071208/188307797-7c30c8cb-bff7-4755-822b-7cf469cba372.JPG" alt="microservices" class="img_ev3q"></p><p>All sounds like flowers and happiness when we talk about microservice. Nevertheless, does microservices solve the entire issue by itself?</p><p>Have you encountered the next cases in a microservice architecture?</p><ul><li>Before we release a new version, we need to sync deploys with another team.</li><li>Our application was down, but is not our issue.</li><li>Our service was working and scaling fine until the team X started using us.</li><li>And more…</li></ul><p>What is happening?</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="microliths">Microliths<a class="hash-link" href="#microliths" title="Direct link to heading">​</a></h3><p>The smells mention before are caused by what <a href="http://jonasboner.com/" target="_blank" rel="noopener noreferrer">Jonas Boner</a> call Microliths, a great word for what is happening here.<br>
<!-- -->Even if we think this are &#x27;independent&#x27; services, synchronous communication can cause side effects we don&#x27;t want:</p><ul><li>There can be cascading events between your services.</li><li>Your domain boundaries are not clear because you don’t own the entire process.</li><li>Slow services are forced to scale by faster services requirements.</li><li>There is additional latency on the network calls.</li></ul><p><img loading="lazy" src="https://microlithalternatives.kanekotic.com/images/microliths.jpg" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="what-got-lost-in-translation">What got lost in translation?<a class="hash-link" href="#what-got-lost-in-translation" title="Direct link to heading">​</a></h3><p>Having microliths comes from multiple misconceptions we have. Some of them are:</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="domains--resources">Domains != Resources<a class="hash-link" href="#domains--resources" title="Direct link to heading">​</a></h4><p>Every so often, when we divide the monolith, we think about domains being resources. Due to how we normally have divided API&#x27;s and DB&#x27;s as we think about splitting what already exists and not about extracting the processes being achieved.</p><p>When thinking about a microservice, we should think about what part of the process it is trying to solve, this will help us define good boundaries for our bounded context.</p><p>When we think in a process, data is secondary. The process will require different pieces of existing data to fulfill their capabilities, and it is ok for it to own its copy of what is needed to fulfill his mission.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="independence--single-source">Independence != Single Source<a class="hash-link" href="#independence--single-source" title="Direct link to heading">​</a></h4><p>A single source of data does not mean independence, as whenever your software requires complementary data, it will have to acquire it from somewhere else, what means a direct  dependency. This also affects boundaries as you must enter other team&#x27;s domain.</p><p>If you strive for independence, copy the information you require for your process, even if it exists somewhere else.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="fast--synchronous">Fast != Synchronous<a class="hash-link" href="#fast--synchronous" title="Direct link to heading">​</a></h4><p>Humans think that a direct response is always faster than sending out a message. While occasionally this is true, in microservices this could start a cascade of synchronous calls from one service to the next one, leaving our users in a timeout limbo.</p><p>Think if really your system requires calling others directly or if you can message them to start their process.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="resilience--complete">Resilience != Complete<a class="hash-link" href="#resilience--complete" title="Direct link to heading">​</a></h4><p>Making sure the entire process has been completed, is normally confused by resiliency. Resiliency only refers to the capability to complete the process.<br>
<!-- -->If we have well-defined contracts in between our pieces, we don&#x27;t need to finish things synchronously, we can promise our users things will happen. And let our services do their work at their speed.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion-and-follow-ups">Conclusion and follow-ups<a class="hash-link" href="#conclusion-and-follow-ups" title="Direct link to heading">​</a></h2><p>Are we doomed?<br>
<img loading="lazy" src="https://microlithalternatives.kanekotic.com/images/timetopanic.jpg" class="img_ev3q"></p><p>The answer is no, we are not doomed! We can design our services with the correct division using some DDD tooling and also use the correct tools to decouple our microservices.<br>
<!-- -->Let&#x27;s talk about this on the next chapters of this series.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/api">api</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/microservices">microservices</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/programming">programming</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/architecture">architecture</a></li></ul></div></footer></article><nav class="pagination-nav" aria-label="Blog list page navigation"></nav></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/kanekotic" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/kanekotic" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://tilde.zone/@Kanekotic" target="_blank" rel="me" class="footer__link-item">Mastodon<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/kanekotic" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.862610a3.js"></script>
<script src="/assets/js/main.ece38665.js"></script>
</body>
</html>